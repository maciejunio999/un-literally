{% extends 'base.html' %}

{% block head %}
<title>Un-Literally</title>
<style>
    .label-top-align {
        vertical-align: top;
        display: inline-block;
        margin-top: 7px;
    }
</style>
{% endblock %}

{% block body %}

<div class="name">
    <h1 style="text-align: center; color: #297400; font-family: Arial; font-weight: bold;">Un-Literally</h1>
    <h2 style="text-align: center; color: #297400; text-decoration: underline; font-family: Arial; font-weight: bold;">Add new word</h2>
</div>

<div>
    <hr>
    <form action="/add_word" method="POST">
        <div class="container_column">
            <label for="content" class="label-top-align">Word:</label>
            <input type="text" name="content" id="content" class="login_input" placeholder="Content... " required>
            <br><br>
            {% if session.role == 1 %}
                <label for="definition" class="label-top-align">Word's definition:</label>
                <textarea id="definition" name="definition" rows="5" cols="50" maxlength="500" wrap="soft" placeholder="Definition..." class="text-area" style="resize: none;"></textarea>
            {% else %}
                <label for="definition" class="label-top-align">Reasoning behind proposal:</label>
                <textarea id="definition" name="definition" rows="5" cols="50" maxlength="500" wrap="soft" placeholder="Explanation..." class="text-area" style="resize: none;"></textarea>
            {% endif %}
            <br><br>
            <div class="button-container">
                <input type="submit" value="Add" class="button accept_button button-large">
            </div>
        </div>
    </form>
    
    <div class="item" style="flex-grow: 2;">
        {% if session.word_already_exists %}
            <p style="color: red;">Word already exists or already was proposed and waits for acceptation.</p>
        {% endif %}
    </div>

    <div class="container_column">
        <button class="back_button" onclick="window.location='/menu'">Back</button>
    </div>

    <hr>
</div>

<script>
    document.getElementById('content').addEventListener('input', function() {
        const input = this.value;
        if (input.length !== 5) {
            this.setCustomValidity('Word has to have exaclty 5 characters.');
        } else {
            this.setCustomValidity('');
        }
    });
</script>

{% endblock %}